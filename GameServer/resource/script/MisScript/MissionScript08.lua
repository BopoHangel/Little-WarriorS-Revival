--------------------------------------------------------------------------
--------------------------------------------------------------------------
print( "‡ Јаг§Є  MissionScript08.lua" )

	DefineMission (6138, "\204\232\241\241\232\255 \207\229\240\229\226\238\228\237\238\227\238 \221\234\231\224\236\229\237\224", 1211) 
		--DefineMission (6138, "Миссия Переводного Экзамена", 1211) 
	 MisBeginTalk ( "<t> \194\251 \243\247\232\242\229\241\252 \243\230\229 \242\224\234 \228\238\235\227\238, \239\238\240\224 \225\251 \232 \239\238\226\251\241\232\242\252 \226\224\248\243 \234\226\224\235\232\244\232\234\224\246\232\254! \206\245! \199\224\228\224\247\224 \238\247\229\237\252 \239\240\238\241\242\224, \241\238\225\229\240\232 30 \221\235\252\244\232\241\234\232\233 \244\240\243\234\242\238\226, \228\224 \234\224\234 \236\238\230\237\238 \241\234\238\240\229\229!") 
		--MisBeginTalk ( "<t> Вы учитесь уже так долго, пора бы и повысить вашу квалификацию! Ох! Задача очень проста, собери 30 Эльфиский фруктов, да как можно скорее!") 
	 MisBeginCondition (CheckXSZCh, 2) 
	 MisBeginCondition (HasItem, 3280,1) 					-- Экзаменационная бумага
	 MisBeginCondition (HasNoItem, 3282) 
	 MisBeginCondition (NoMission, 1211) 
	 MisBeginAction (AddMission, 1211) 
	 MisBeginAction (AddTrigger, 12111, TE_GETITEM, 3116, 30) 
	 MisCancelAction (ClearMission, 1211) 

	 MisNeed (MIS_NEED_ITEM, 3116, 30, 10, 30) 
	 MisHelpTalk ( "<t> \207\238\242\224\240\224\239\235\232\226\224\233\242\229\241\252! \194\240\229\236\255 \243\245\238\228\232\242!") 
		--MisHelpTalk ( "<t> Потарапливайтесь! Время уходит!") 

	 MisResultTalk ( "<t>\209\234\240\229\241\242\232\242\229 \239\224\235\252\246\251, \237\224\228\229\254\241\252 \243 \226\224\241 \245\238\240\238\248\232\233 \240\229\231\243\235\252\242\224\242!") 
		--MisResultTalk ( "<t>Скрестите пальцы, надеюсь у вас хороший результат!") 
	 MisResultCondition (HasMission, 1211) 
	 MisResultCondition (HasItem, 3116, 30) 					-- Эльфийский фрукт
	 MisResultAction (TakeItem, 3116, 30) 
	 MisResultAction (ClearMission, 1211) 
	 MisResultAction (GiveItem, 3282, 1, 4) 					-- Листок с ответами на экзамен

	 InitTrigger () 
	 TriggerCondition (1, IsItem, 3116) 
	 TriggerAction (1, AddNextFlag, 1211, 10, 30) 
	 RegCurTrigger (12111)


function SnowWarQuests()
	DefineMission( 7001, "\204\232\240\237\224\255 \243\227\240\238\231\224", 1880 )
	MisBeginTalk( "<t>\194\238\233\237\224? \213\224\238\241? \215\242\238 \236\238\230\229\242 \225\251\242\252 \236\232\235\229\229 \241\229\240\228\246\243 \241\238\235\228\224\242\224!<t>\210\238\235\252\234\238 \226\238\233\237\224 \232 \245\224\238\241 \226 \238\228\237\238\236 \244\235\224\234\238\237\229! \205\238 \236\237\229 \236\229\248\224\254\242 \192\236\232! \202\238\227\228\224 \255 \226\232\230\243 \232\245 \237\224 \239\238\235\229 \225\238\255, \243 \236\229\237\255 \241\238\226\229\240\248\229\237\237\238 \239\240\238\239\224\228\224\229\242 \230\229\235\224\237\232\229 \226\238\229\226\224\242\252. \207\238\236\238\227\232 \236\237\229, \243\225\229\233 100 <r\239\240\232\231\240\224\234\238\226 \224\236\232-\237\238\226\232\247\234\224!>" )
	MisBeginCondition(NoMission, 1880)
	MisBeginCondition(LvCheck, ">", 30 )
	
	MisBeginAction(AddMission, 1880)
	MisBeginAction(SetFlag, 1880, 1)
	MisBeginAction(AddTrigger, 18801, TE_KILL, 879, 100 )
	
	MisCancelAction(ClearMission, 1880)
	
	MisNeed(MIS_NEED_DESP, "\207\238\236\238\227\232 \209\243\236\224\241\248\229\228\248\229\236\243 \207\240\224\239\238\240\249\232\234\243 - \243\225\229\233 100 <r\207\240\232\231\240\224\234\238\226 \192\236\232-\237\238\226\232\247\234\224>.")
	MisNeed(MIS_NEED_KILL, 879, 100, 10, 100)
	
	MisHelpTalk("<t>\207\238\239\240\238\225\243\233 \237\224\233\242\232 \253\242\232\245 \236\238\237\241\242\240\238\226 \237\224 \234\224\240\242\224\245 \'\213\224\238\241 \192\240\227\229\237\242\224\' \232 \'\209\237\229\230\237\224\255 \226\238\233\237\224\'")
	MisResultCondition(HasMission, 1880)
	MisResultCondition(HasFlag, 1880, 19 )
	MisResultCondition(HasFlag, 1880, 29 )
	MisResultCondition(HasFlag, 1880, 39 )
	
	MisResultTalk("<t>\193\235\224\227\238\228\224\240\254! <n><t>\210\229\239\229\240\252 \255 \236\238\227\243 \239\238\235\237\238\241\242\252\254 \240\224\241\241\235\224\225\232\242\252\241\255 \237\224 \239\238\235\229 \225\238\255...")
	MisResultAction(SetRecord, 1880)
	MisResultAction(ClearMission, 1880)
	MisResultAction(AddExp, 44000, 44000)

	
	InitTrigger()
	TriggerCondition( 1, IsMonster, 879 )	
	TriggerAction( 1, AddNextFlag, 1880, 10, 100 )
	RegCurTrigger( 18801 )
	
	
	DefineMission( 7002, "\209\229\234\240\229\242\237\224\255 \228\232\240\229\234\242\232\226\224", 1881 )
	MisBeginTalk( "<t>\194\238\233\237\224? \213\224\238\241? \215\242\238 \236\238\230\229\242 \225\251\242\252 \236\232\235\229\229 \241\229\240\228\246\243 \241\238\235\228\224\242\224!<t>\210\238\235\252\234\238 \226\238\233\237\224 \232 \245\224\238\241 \226 \238\228\237\238\236 \244\235\224\234\238\237\229! \205\238 \236\237\229 \236\229\248\224\254\242 \202\224\240\246\232\231\251! \223 \232\245 \225\238... \225\238... \226 \238\225\249\229\236 \253\242\238 \241\229\234\240\229\242\237\238\229 \240\224\241\239\238\240\255\230\229\237\232\229 \234\238\236\224\237\228\238\226\224\237\232\255. \205\229 \238\225\241\243\230\228\224\229\242\241\255. \199\224\228\224\247\224 - \243\225\232\242\252 100 <r\212\224\237\242\238\236\238\226-\204\229\247\237\232\234\238\226 \202\224\240\246\232\231\238\226>. \194\251\239\238\235\237\255\242\252!" )
	MisBeginCondition(NoMission, 1881)
	MisBeginCondition(LvCheck, ">", 30 )
	
	MisBeginAction(AddMission, 1881)
	MisBeginAction(SetFlag, 1881, 1)
	MisBeginAction(AddTrigger, 18811, TE_KILL, 873, 100 )
	
	MisCancelAction(ClearMission, 1881)
	
	MisNeed(MIS_NEED_DESP, "\207\238\236\238\227\232 \209\243\236\224\241\248\229\228\248\229\236\243 \207\240\224\239\238\240\249\232\234\243 - \243\225\229\233 100 <r\212\224\237\242\238\236\238\226-\204\229\247\237\232\234\238\226 \202\224\240\246\232\231\238\226>.")
	MisNeed(MIS_NEED_KILL, 873, 100, 10, 100)
	
	MisHelpTalk("<t>\207\238\239\240\238\225\243\233 \237\224\233\242\232 \253\242\232\245 \236\238\237\241\242\240\238\226 \237\224 \234\224\240\242\224\245 \'\213\224\238\241 \192\240\227\229\237\242\224\' \232 \'\209\237\229\230\237\224\255 \226\238\233\237\224\'")
	MisResultCondition(HasMission, 1881)
	MisResultCondition(HasFlag, 1881, 19 )
	MisResultCondition(HasFlag, 1881, 29 )
	MisResultCondition(HasFlag, 1881, 39 )
	
	MisResultTalk("<t>\202\238\236\224\237\228\238\226\224\237\232\229 \242\229\225\255 \237\224\227\240\224\228\232\242!")
	MisResultAction(SetRecord, 1881)
	MisResultAction(ClearMission, 1881)
	MisResultAction(AddExp, 1776000, 1776000)

	
	InitTrigger()
	TriggerCondition( 1, IsMonster, 873 )	
	TriggerAction( 1, AddNextFlag, 1881, 10, 100 )
	RegCurTrigger( 18811 )

	
	DefineMission( 7003, "\209\229\234\240\229\242\237\224\255 \228\232\240\229\234\242\232\226\224", 1882 )
	MisBeginTalk( "<t>\194\238\233\237\224? \213\224\238\241? \215\242\238 \236\238\230\229\242 \225\251\242\252 \236\232\235\229\229 \241\229\240\228\246\243 \241\238\235\228\224\242\224!<t>\210\238\235\252\234\238 \226\238\233\237\224 \232 \245\224\238\241 \226 \238\228\237\238\236 \244\235\224\234\238\237\229! \202\241\242\224\242\232, \243 \236\229\237\255 \242\243\242 \228\235\255 \242\229\225\255 \231\224\228\224\237\232\229. \202\238\227\228\224 \255 \225\251\235 \254\237 \232 \227\235\243\239, \236\237\229 \234\224\231\224\235\238\241\252, \247\242\238 \235\254\225\238\226\252 \253\242\238 \241\224\236\238\229 \235\243\247\248\229\229 \237\224 \241\226\229\242\229. \205\238 \253\242\238 \229\240\243\237\228\224! \209 \242\229\245 \239\238\240 \234\224\234 \255 \253\242\238 \239\238\237\255\235 \243 \236\229\237\255 \239\240\238\241\237\243\235\224\241\252 \237\229\237\224\226\232\241\242\252 \234 \230\229\237\249\232\237\224\236. \211\225\229\233 100 <r\212\224\237\242\238\236\238\226 \212\232\235\235\232\241 \214\229\235\232\242\229\235\252\237\232\246\251>. \194\251\239\238\235\237\255\242\252!" )
	MisBeginCondition(NoMission, 1882)
	MisBeginCondition(LvCheck, ">", 30 )
	
	MisBeginAction(AddMission, 1882)
	MisBeginAction(SetFlag, 1882, 1)
	MisBeginAction(AddTrigger, 18821, TE_KILL, 878, 100 )
	
	MisCancelAction(ClearMission, 1882)
	
	MisNeed(MIS_NEED_DESP, "\207\238\236\238\227\232 \209\243\236\224\241\248\229\228\248\229\236\243 \207\240\224\239\238\240\249\232\234\243 - \243\225\229\233 100 <r\212\224\237\242\238\236\238\226 \212\232\235\235\232\241 \214\229\235\232\242\229\235\252\237\232\246\251>.")
	MisNeed(MIS_NEED_KILL, 878, 100, 10, 100)
	
	MisHelpTalk("<t>\207\238\239\240\238\225\243\233 \237\224\233\242\232 \253\242\232\245 \236\238\237\241\242\240\238\226 \237\224 \234\224\240\242\224\245 \'\213\224\238\241 \192\240\227\229\237\242\224\' \232 \'\209\237\229\230\237\224\255 \226\238\233\237\224\'")
	MisResultCondition(HasMission, 1882)
	MisResultCondition(HasFlag, 1882, 19 )
	MisResultCondition(HasFlag, 1882, 29 )
	MisResultCondition(HasFlag, 1882, 39 )
	
	MisResultTalk("<t>\209\239\224\241\232\225\238! \210\251 \239\238\236\238\227 \236\237\229 \240\224\231\228\229\235\224\242\252\241\255 \241 \237\232\236\232... \213\229-\245\229-\245\229!")
	MisResultAction(SetRecord, 1882)
	MisResultAction(ClearMission, 1882)
	MisResultAction(AddExp, 8000000, 8000000)

	
	InitTrigger()
	TriggerCondition( 1, IsMonster, 878 )	
	TriggerAction( 1, AddNextFlag, 1882, 10, 100 )
	RegCurTrigger( 18821 )


	DefineMission( 7004, "\210\238\240\230\229\241\242\226\238 \241\239\240\224\226\229\228\235\232\226\238\241\242\232", 1883 )
	MisBeginTalk( "<t>\194\238\233\237\224? \213\224\238\241? \215\242\238 \236\238\230\229\242 \225\251\242\252 \236\232\235\229\229 \241\229\240\228\246\243 \241\238\235\228\224\242\224!<t>\210\238\235\252\234\238 \226\238\233\237\224 \232 \245\224\238\241 \226 \238\228\237\238\236 \244\235\224\234\238\237\229! \202\241\242\224\242\232, \247\242\238 \242\251 \228\243\236\224\229\248\252 \238 \194\238\232\242\229\235\255\245? \195\238\226\238\240\232\248\252, \238\237\232 \235\254\225\232\236\247\232\234\232? \194\238\242 \232 \255 \242\224\234 \228\243\236\224\254! \205\229\241\239\240\224\226\229\228\235\232\226\238! \206\237\232 \241\232\235\252\237\229\229 \226\241\229\245! \207\240\229\228\235\224\227\224\254 \226\238\241\241\242\224\237\238\226\232\242\252 \241\239\240\224\226\229\228\235\232\226\238\241\242\252 - \243\225\229\233 100 <r\215\229\240\237\251\245 \196\240\224\234\238\237\238\226 \203\224\237\241\238\226>. \194\251\239\238\235\237\255\242\252!" )
	MisBeginCondition(NoMission, 1883)
	MisBeginCondition(LvCheck, ">", 30 )
	
	MisBeginAction(AddMission, 1883)
	MisBeginAction(SetFlag, 1883, 1)
	MisBeginAction(AddTrigger, 18831, TE_KILL, 883, 100 )
	
	MisCancelAction(ClearMission, 1883)
	
	MisNeed(MIS_NEED_DESP, "\207\238\236\238\227\232 \209\243\236\224\241\248\229\228\248\229\236\243 \207\240\224\239\238\240\249\232\234\243 - \243\225\229\233 100 <r\215\229\240\237\251\245 \196\240\224\234\238\237\238\226 \203\224\237\241\238\226>.")
	MisNeed(MIS_NEED_KILL, 883, 100, 10, 100)
	
	MisHelpTalk("<t>\207\238\239\240\238\225\243\233 \237\224\233\242\232 \253\242\232\245 \236\238\237\241\242\240\238\226 \237\224 \234\224\240\242\224\245 \'\213\224\238\241 \192\240\227\229\237\242\224\' \232 \'\209\237\229\230\237\224\255 \226\238\233\237\224\'")
	MisResultCondition(HasMission, 1883)
	MisResultCondition(HasFlag, 1883, 19 )
	MisResultCondition(HasFlag, 1883, 29 )
	MisResultCondition(HasFlag, 1883, 39 )
	
	MisResultTalk("<t>\210\229\239\229\240\252 \226\241\229 \231\237\224\254\242, \247\242\238 \194\238\232\242\229\235\232 \237\232\247\243\242\252 \237\229 \241\232\235\252\237\229\229 \238\241\242\224\235\252\237\251\245!")
	MisResultAction(SetRecord, 1883)
	MisResultAction(ClearMission, 1883)
	MisResultAction(AddExp, 12400000, 12400000)

	InitTrigger()
	TriggerCondition( 1, IsMonster, 883 )	
	TriggerAction( 1, AddNextFlag, 1883, 10, 100 )
	RegCurTrigger( 18831 )
end

--Тюрьма
	DefineMission ( 6230, "\207\243\242\252 \238\241\226\238\225\238\230\228\229\237\232\255", 1280 )
	
	MisBeginTalk ( "<t>\205\229\231\224\226\232\241\232\236\238 \238\242 \242\238\227\238, \239\238\247\229\236\243 \194\251 \239\238\239\224\235\232 \241\254\228\224, \194\251 \228\238\235\230\237\251 \241\238\225\235\254\228\224\242\252 \231\228\229\248\237\232\229 \239\240\224\226\232\235\224. \197\241\235\232 \194\251 \245\238\242\232\242\229 \243\231\237\224\242\252 \234\224\234 \238\242\241\254\228\224 \236\238\230\237\238 \226\251\225\240\224\242\252\241\255 \241\239\240\238\241\232\242\229 \210\254\240\229\236\237\238\227\238 \241\242\240\224\230\224 (281,218).")
	MisBeginCondition( NoMission, 1280)
	MisBeginCondition( NoRecord, 1280)
	MisBeginAction( AddMission, 1280)
	MisCancelAction( ClearMission, 1280)

	MisNeed( MIS_NEED_DESP, "\209\239\240\238\241\232\242\229 \210\254\240\229\236\237\238\227\238 \241\242\240\224\230\224 (316 208) \234\224\234 \236\238\230\237\238 \239\238\234\232\237\243\242\252 \253\242\238 \236\229\241\242\238.")

	MisHelpTalk( "\196\229\233\241\242\226\243\233\242\229!")
	MisResultCondition ( AlwaysFailure )


	DefineMission ( 6231, "\207\243\242\252 \238\241\226\238\225\238\230\228\229\237\232\255", 1280, COMPLETE_SHOW )

	MisBeginCondition ( AlwaysFailure )

	MisResultTalk ( "<t>\205\229\242\229\240\239\232\242\229 \239\238\234\232\237\243\242\252 \242\254\240\252\236\243? \223 \237\229 \228\243\236\224\254 \247\242\238 \231\228\229\241\252 \237\224\241\242\238\235\252\234\238 \241\234\243\247\237\238, \245\224-\245\224. \197\241\235\232 \194\251 \228\229\233\241\242\226\232\242\229\235\252\237\238 \245\238\242\232\242\229 \239\238\234\232\237\243\242\252 \253\242\238 \236\229\241\242\238, \242\238 \241\235\243\248\224\233\242\229\241\252 \236\229\237\255.")
	MisResultCondition( HasMission, 1280)
	MisResultCondition( NoRecord, 1280)
	MisResultAction( ClearMission, 1280)
	MisResultAction( SetRecord, 1280)

SnowWarQuests()